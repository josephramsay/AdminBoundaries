name: Build

on: [push]

jobs:
  build:
  
    runs-on: ubuntu-latest

    steps:
  
      - uses: actions/checkout@v1
      
      - name: Setup JDK1.8
        uses: actions/setup-java@v1
        with:
          java-version: 1.8
          
      - name: Build with Gradle
        run: |
          mv gradle.ga.properties gradle.properties
          gradle war 
          

      #- name: Docker PostgreSQL
      #  uses: docker://postgresql:9.3
      #  run : 
      #    psql -v ON_ERROR_STOP=1 --username "postgres" --dbname "postgres" << EOSQL
      #      CREATE USER dab;
      #      CREATE DATABASE dab;
      #      GRANT ALL PRIVILEGES ON DATABASE dab TO dab;
      #    EOSQL      
        
      #- name: Docker Apache Tomcat
      #  uses: docker://tomcat:7.0
   
   